<div class="container user">
  <div class="row">
    <h4 class="mt-5 user__title">New User:</h4>
    <form
      #userForm="ngForm"
      class="col-12 mt-2"
      (ngSubmit)="createUser(userForm)"
    >
      <div class="form-group text-center">
        <label for="isAdmin">Admin</label>
        <input
          class="form-control"
          type="checkbox"
          id="isAdmin"
          [(ngModel)]="userModel.isAdmin"
          name="isAdmin"
        />
      </div>
      <div class="form-group">
        <input
          [(ngModel)]="userModel.username"
          name="username"
          required
          class="form-control"
          placeholder="Login"
        />
      </div>
      <div class="form-group">
        <input
          [(ngModel)]="userModel.password"
          name="password"
          class="form-control"
          [ngClass]="{
            user__validation:
              password.value != repeatPassword.value &&
              repeatPassword.touched &&
              password.touched
          }"
          required
          minlength="6"
          #password="ngModel"
          type="password"
          placeholder="Password (6 signs, 1 digit, 1 uppercase letter)"
        />
      </div>
      <div class="form-group">
        <input
          [(ngModel)]="userModel.repeatPassword"
          name="repeatPassword"
          [ngClass]="{
            user__validation:
              password.value != repeatPassword.value &&
              repeatPassword.touched &&
              password.touched
          }"
          minlength="6"
          required
          class="form-control"
          type="password"
          #repeatPassword="ngModel"
          placeholder="Repeat Password"
        />
      </div>
      <div class="form-group">
        <input
          [(ngModel)]="userModel.firstName"
          name="firstName"
          required
          class="form-control"
          placeholder="FirstName"
        />
      </div>
      <div class="form-group">
        <input
          [(ngModel)]="userModel.lastName"
          name="lastName"
          required
          class="form-control"
          placeholder="LastName"
        />
      </div>
      <div class="form-group">
        <select
          [(ngModel)]="userModel.departamentId"
          name="departamentId"
          required
          class="form-control"
        >
          <option
            *ngFor="let departament of departaments"
            value="{{ departament.id }}"
            >{{ departament.name }}</option
          >
        </select>
      </div>

      <div class="form-group">
        <button
          [disabled]="!userForm.valid || repeatPassword.value != password.value"
          type="submit"
          class="btn user__btn"
        >
          Add
        </button>
      </div>
    </form>
    <h4 class="mt-5 user__title">New Departament:</h4>
    <form
      #departamentForm="ngForm"
      class="col-12 mt-2"
      (ngSubmit)="createDepartament(departamentForm)"
    >
      <div class="form-group">
        <input
          placeholder="Name"
          [(ngModel)]="departamentModel.name"
          name="name"
          required
          class="form-control"
        />
      </div>
      <div class="form-group mb-5">
        <button
          [disabled]="!departamentForm.valid"
          type="submit"
          class="btn user__btn"
        >
          Add
        </button>
      </div>
    </form>
  </div>
</div>
